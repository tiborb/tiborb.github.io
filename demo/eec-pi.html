<html>
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  <title>Sample HTML Page</title>
	<!-- Data layer -->
	<script>
		var dataLayer = dataLayer || [];
		dataLayer.push({
		  'ecommerce': {
		    'currencyCode': 'EUR',                       // Local currency is optional.
		    'impressions': [
		     {
		       'name': 'Triblend Android T-Shirt',       // Name or ID is required.
		       'id': '12345',
		       'price': '15.25',
		       'brand': 'Google',
		       'category': 'Apparel',
		       'variant': 'Gray',
		       'list': 'Search Results',
		       'position': 1
		     }]
		  }
		});
	</script>
	<!-- End data layer -->
	<!-- Google Tag Manager -->
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-KVF8J9B');</script>
	<!-- End Google Tag Manager -->
</head>
<body>
	
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KVF8J9B"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<!-- Cookie manager integration -->
<link rel="stylesheet" href="//btm.bosch.com/rb/q/cookie/2.0.0/bosch-privacy-settings-v2.min.css">
<!-- Include font style information - OPTIONAL (some pages already have it)-->
<style>
    @font-face {
      font-family: "boschsans";
      font-style: normal;
      font-weight: 200;
      src: url("//btm.bosch.com/rb/cookie/fonts/BoschSans-Light.woff2") format("woff2"), url("//btm.bosch.com/rb/cookie/fonts/BoschSans-Light.woff2") format("woff"); }

    @font-face {
      font-family: "boschsans";
      font-style: normal;
      font-weight: normal;
      src: url("//btm.bosch.com/rb/cookie/fonts/BoschSans-Regular.woff2") format("woff2"), url("//btm.bosch.com/rb/cookie/fonts/BoschSans-Regular.woff") format("woff"); }

    @font-face {
      font-family: "boschsans";
      font-style: normal;
      font-weight: 500;
      src: url("//btm.bosch.com/rb/cookie/fonts/BoschSans-Medium.woff2") format("woff2"), url("//btm.bosch.com/rb/cookie/fonts/BoschSans-Medium.woff") format("woff"); }

    @font-face {
      font-family: "boschsans";
      font-style: normal;
      font-weight: bold;
      src: url("//btm.bosch.com/rb/cookie/fonts/BoschSans-Bold.woff2") format("woff2"), url("//btm.bosch.com/rb/cookie/fonts/BoschSans-Bold.woff") format("woff"); }

    .BoschPrivacySettingsV2 {
      font-family: "boschsans", "Helvetica Neue", Helvetica, Arial, sans-serif; }
  </style>
  <!-- End include font style information -->
  <!-- Load Cookie Manager Lib from CDN -->
  <script src="//btm.bosch.com/rb/q/cookie/2.0.0/bosch-privacy-settings-v2.min.js"></script>
  <!-- Configuration via JSON in a separate script tag -->
  <script type="application/json" id="bosch-privacy-settings-v2-config">
    {
      "comfortCookieDescription": {
        "link": {
          "url": "target-comfort.html"
        }
      },
      "marketingCookieDescription": {
        "link": {
          "url": "target-marketing.html"
        }
      },
      "smallprint": {
        "policy": {
          "link": {
            "url": "target-policy.html"
          }
        },
        "imprint": {
          "link": {
            "url": "target-imprint.html"
          }
        }
      },
      "localizationDirPath": "https://btm.bosch.com/rb/q/cookie/2.0.0/i18n",
      "showUniversalOptIn": false,
      "showComfortOptIn": false,
      "showMarketingOptIn": true,
      "showLanguageSelector": true,
      "locale": "en-gb",
      "allowCrossOrigin": true
    }
  </script>
  <!-- Add own conditions -->
  <script>
    // example for callback usage
    function BoschPrivacyCallback_OnUpdate(consent) {
      console.log(new Date().toUTCString(), 'BoschPrivacyCallback_OnUpdate called.', consent);
      if (consent.marketing) {
        // Run code that sets marketing cookie. tracking according to CD 02900-008!
        console.log('[callback] marketing is on');
        // *** Trigger GTM Event: bosch_privacy_update_<comfort|marketing>_<on|off> ***
        dataLayer.push({'event':'bosch_privacy_update_marketing_on'});
      } else {
        // No marketing
        console.log('[callback] marketing is off');
      }
      // End own script
    }
  </script>
  <!-- End cookie manager integration -->
	
<h1>Test EEC</h1>
<script>
function add_to_cart() {
	dataLayer.push({
	  'event': 'addToCart',
	  'ecommerce': {
	    'currencyCode': 'EUR',
	    'add': {                                // 'add' actionFieldObject measures.
	      'products': [{                        //  adding a product to a shopping cart.
		'name': 'Bosch Tshirt',
		'id': '12345',
		'price': '15.25',
		'brand': 'Bosch',
		'category': 'Apparel',
		'variant': 'Blue',
		'quantity': 1
	       }]
	    }
	  }
	});
	console.log("data layer is: ", dataLayer);
}

function remove_from_cart() {
	dataLayer.push({
	  'event': 'removeFromCart',
	  'ecommerce': {
	    'remove': {                               // 'remove' actionFieldObject measures.
	      'products': [{                          //  removing a product to a shopping cart.
		'name': 'Bosch Tshirt',
		'id': '12345',
		'price': '15.25',
		'brand': 'Bosch',
		'category': 'Apparel',
		'variant': 'Blue',
		'quantity': 1
	      }]
	    }
	  }
	});
}

function funnel_step1() {
	dataLayer.push({
	  'event': 'checkout',
	  'ecommerce': {
	    'checkout': {
	      'actionField': {'step': 1},
	      'products': [{
		  'name': 'Bosch Tshirt',
		  'id': '12345',
		  'price': '15.25',
		  'brand': 'Bosch',
		  'category': 'Smart Home', // parent_cateogry / sub_cat / subsubcat / category (up to 5 levels) separated by / (slash)
		  'variant': 'Gray'  // Silver 64GB / Black 64GB / Silver 32GB  (concatenate dimensions/attributes)
	     }]
	   }
	 },
	});
}
	
function funnel_step2() {
	dataLayer.push({
	  'event': 'checkout',
	  'ecommerce': {
	    'checkout': {
	      'actionField': {'step': 2},
	      'products': [{
		  'name': 'Bosch Tshirt',
		  'id': '12345',
		  'price': '15.25',
		  'brand': 'Bosch',
		  'category': 'Smart Home', // parent_cateogry / sub_cat / subsubcat / category (up to 5 levels) separated by / (slash)
		  'variant': 'Gray'  // Silver 64GB / Black 64GB / Silver 32GB  (concatenate dimensions/attributes)
	     }]
	   }
	 },
	});
}
</script>

<ul>
<li><button type="button" onclick="add_to_cart()">Add to cart</button></li>
<li><button type="button" onclick="remove_from_cart()">Remove from cart</button></li>
<li><button type="button" onclick="funnel_step1()">Funnel Step 1</button></li>
<li><button type="button" onclick="funnel_step2()">Funnel Step 2</button></li>
<li><a id="custom-event" href="#">Fire custom event</a></li>
<li><a href="https://www.bosch.com" target="_blank">External Link</a></li>
<li><a href="https://www.digitalanalyticsassociation.org/Files/PDF_standards/WebAnalyticsDefinitions.pdf" target="_blank">Download Definitions</a></li>
</ul>
	
<script>
  function fireEvent() {
	  var events = [
	    "Play",
	    "Pause",
	    "Stop",
	    "Skip",
	    "I'm a teapot"
	  ]
	  return events[Math.floor(Math.random() * Math.floor(events.length))];
	}
  document.getElementById("custom-event").onclick = function() {
    var event = fireEvent();
    console.log(event)
    // track now!
    dataLayer.push({
	  "event" : "GAEvent",
	  "eventCategory" : "custom",
	  "eventAction" : "click",
	  "eventLabel" : event,
	  "eventValue" : 42
	});
  };
</script>
</body>
</html>
